<!DOCTYPE html>
<html lang="en">
  <head>
    <%- include('./partials/head') %>
  </head>
  <body class=" <%= locals.user ? user.colores : null %> ">
    <main class="formulario">
      <% if (locals.user) {%>
      <div class="card">
        <div class="card-body">
          <p>
            Hola <b><%= user.name %></b>, elegiste el color:
            <b><%= user.colores %></b>, tu email es:
            <b><%= user.email %></b> y tu edad es: <b><%= user.edad %></b>
          </p>
          <a href="formulario/user" class="btn btn-danger">Usuario</a>
          <a href="formulario/logOut" class="btn btn-success">Olvidar Color</a>
        </div>

      </div>
      <% } else { %>
      <!-- Formulario -->
      <div class="vh-100 d-flex align-items-center justify-content-center ">
        <form action="" method="POST" class="container-fluid w-50 form-control text-center">
          <div class="mb-4 ">
            <label for="exampleFormControlInput1" class="form-label">Nombre</label>
            <input type="text" name="name" class="form-control w-75 mx-auto" id="exampleFormControlInput1 " value="<%= locals.old && old.name ? old.name : null%>" placeholder="Nombre">
            <small class="text-danger ms-2"><%= locals.errors && errors.name ? errors.name.msg : null %> </small>
          </div>

          <div class="mb-4 ">
            <label for="select" class="form-label">Color de fondo</label>
            <select class="form-select w-75 mx-auto" id="colores" aria-label="Default select example" name="colores">
              <option value="" selected hidden>Colores</option>
              <option value="verde">Verde</option>
              <option value="amarillo">Amarillo</option>
              <option value="rojo">Rojo</option>
            </select>
            <small class="text-danger small ms-2"><%= locals.errors && errors.colores ? errors.colores.msg : null %> </small>
          </div>

          <div class="mb-4">
            <label for="exampleFormControlInput2" class="form-label">Email</label>
            <input type="email" class="form-control w-75 mx-auto" id="exampleFormControlInput2" placeholder="Ingrese su Email" value="<%= locals.old && old.email ? old.email : null%>" name="email">
            <small class="text-danger small ms-2"><%= locals.errors && errors.email ? errors.email.msg : null %> </small>
          </div>

          <div class="mb-4">
            <label for="exampleFormControlInput3" class="form-label">Edad</label>
            <input type="number" class="form-control w-75 mx-auto" id="exampleFormControlInput3" placeholder="Ingrese su edad" value="<%= locals.old && old.edad ? old.edad : null%>" name="edad">
            <small class="text-danger small ms-2"><%= locals.errors && errors.edad ? errors.edad.msg : null %> </small>
          </div>

          <div class="mb-4 d-flex justify-content-center">
            <input class="form-check-input" type="checkbox" value="recordar" name="recordar" id="flexCheckDefault">
            <label class="form-check-label" for="flexCheckDefault">
              Recordar color
            </label>
          </div>
      
          <div class="mb-4 d-flex justify-content-center">
            <button type="submit" class="btn btn-primary">Enviar</button>
            </div>
            
        </form>
      </div>
      <% } %>
    </main>

    <script
      src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"
      integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.min.js"
      integrity="sha384-mQ93GR66B00ZXjt0YO5KlohRA5SY2XofN4zfuZxLkoj1gXtW8ANNCe9d5Y3eG5eD"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
